"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/auth/instagram/callback/route";
exports.ids = ["app/auth/instagram/callback/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Finstagram%2Fcallback%2Froute&page=%2Fauth%2Finstagram%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Finstagram%2Fcallback%2Froute.ts&appDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp%5Capp&pageExtensions=js&pageExtensions=jsx&pageExtensions=ts&pageExtensions=tsx&pageExtensions=md&pageExtensions=mdx&rootDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Finstagram%2Fcallback%2Froute&page=%2Fauth%2Finstagram%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Finstagram%2Fcallback%2Froute.ts&appDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp%5Capp&pageExtensions=js&pageExtensions=jsx&pageExtensions=ts&pageExtensions=tsx&pageExtensions=md&pageExtensions=mdx&rootDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_wital_OneDrive_01_Importantes_Negocios_WITALO_DEV_NextWit_faceApp_app_auth_instagram_callback_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/auth/instagram/callback/route.ts */ \"(rsc)/./app/auth/instagram/callback/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/auth/instagram/callback/route\",\n        pathname: \"/auth/instagram/callback\",\n        filename: \"route\",\n        bundlePath: \"app/auth/instagram/callback/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\wital\\\\OneDrive\\\\01_Importantes_Negocios\\\\WITALO_DEV\\\\NextWit\\\\faceApp\\\\app\\\\auth\\\\instagram\\\\callback\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_wital_OneDrive_01_Importantes_Negocios_WITALO_DEV_NextWit_faceApp_app_auth_instagram_callback_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/auth/instagram/callback/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhdXRoJTJGaW5zdGFncmFtJTJGY2FsbGJhY2slMkZyb3V0ZSZwYWdlPSUyRmF1dGglMkZpbnN0YWdyYW0lMkZjYWxsYmFjayUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmF1dGglMkZpbnN0YWdyYW0lMkZjYWxsYmFjayUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN3aXRhbCU1Q09uZURyaXZlJTVDMDFfSW1wb3J0YW50ZXNfTmVnb2Npb3MlNUNXSVRBTE9fREVWJTVDTmV4dFdpdCU1Q2ZhY2VBcHAlNUNhcHAmcGFnZUV4dGVuc2lvbnM9anMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz1tZCZwYWdlRXh0ZW5zaW9ucz1tZHgmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN3aXRhbCU1Q09uZURyaXZlJTVDMDFfSW1wb3J0YW50ZXNfTmVnb2Npb3MlNUNXSVRBTE9fREVWJTVDTmV4dFdpdCU1Q2ZhY2VBcHAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJFO0FBQ3hKO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGpzLXByaXNtYS10ZW1wbGF0ZS8/MjZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx3aXRhbFxcXFxPbmVEcml2ZVxcXFwwMV9JbXBvcnRhbnRlc19OZWdvY2lvc1xcXFxXSVRBTE9fREVWXFxcXE5leHRXaXRcXFxcZmFjZUFwcFxcXFxhcHBcXFxcYXV0aFxcXFxpbnN0YWdyYW1cXFxcY2FsbGJhY2tcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXV0aC9pbnN0YWdyYW0vY2FsbGJhY2svcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2F1dGgvaW5zdGFncmFtL2NhbGxiYWNrXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2F1dGgvaW5zdGFncmFtL2NhbGxiYWNrL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcd2l0YWxcXFxcT25lRHJpdmVcXFxcMDFfSW1wb3J0YW50ZXNfTmVnb2Npb3NcXFxcV0lUQUxPX0RFVlxcXFxOZXh0V2l0XFxcXGZhY2VBcHBcXFxcYXBwXFxcXGF1dGhcXFxcaW5zdGFncmFtXFxcXGNhbGxiYWNrXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2F1dGgvaW5zdGFncmFtL2NhbGxiYWNrL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Finstagram%2Fcallback%2Froute&page=%2Fauth%2Finstagram%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Finstagram%2Fcallback%2Froute.ts&appDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp%5Capp&pageExtensions=js&pageExtensions=jsx&pageExtensions=ts&pageExtensions=tsx&pageExtensions=md&pageExtensions=mdx&rootDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/[...nextauth]/route.ts":
/*!*********************************************!*\
  !*** ./app/api/auth/[...nextauth]/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* reexport safe */ _auth__WEBPACK_IMPORTED_MODULE_0__.GET),\n/* harmony export */   POST: () => (/* reexport safe */ _auth__WEBPACK_IMPORTED_MODULE_0__.POST)\n/* harmony export */ });\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/auth */ \"(rsc)/./auth.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoanMtcHJpc21hLXRlbXBsYXRlLy4vYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHM/YzhhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBHRVQsIFBPU1QgfSBmcm9tIFwiQC9hdXRoXCI7XHJcbiJdLCJuYW1lcyI6WyJHRVQiLCJQT1NUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/auth/instagram/callback/route.ts":
/*!**********************************************!*\
  !*** ./app/auth/instagram/callback/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var _app_api_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/app/api/auth/[...nextauth]/route */ \"(rsc)/./app/api/auth/[...nextauth]/route.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n// app/auth/instagram/callback/route.ts\n\n\n // Ajuste o caminho conforme sua configuração do NextAuth\n // Ajuste conforme sua configuração do prisma\nasync function GET(request) {\n    const url = new URL(request.url);\n    const code = url.searchParams.get(\"code\");\n    if (!code) {\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"C\\xf3digo n\\xe3o fornecido\", {\n            status: 400\n        });\n    }\n    const clientId = process.env.INSTAGRAM_CLIENT_ID;\n    const clientSecret = process.env.INSTAGRAM_CLIENT_SECRET;\n    const redirectUri = process.env.INSTAGRAM_REDIRECT_URI;\n    // 1. Trocar code por token de curto prazo\n    const tokenResponse = await fetch(\"https://api.instagram.com/oauth/access_token\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: new URLSearchParams({\n            client_id: clientId,\n            client_secret: clientSecret,\n            grant_type: \"authorization_code\",\n            redirect_uri: redirectUri,\n            code\n        })\n    });\n    if (!tokenResponse.ok) {\n        const errorText = await tokenResponse.text();\n        console.error(\"Erro ao obter token curto prazo:\", errorText);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Erro ao obter token curto prazo\", {\n            status: 500\n        });\n    }\n    const tokenData = await tokenResponse.json();\n    const shortLivedToken = tokenData.access_token;\n    // 2. Trocar o token curto por um de longo prazo (60 dias)\n    const longTokenResponse = await fetch(`https://graph.instagram.com/access_token?grant_type=ig_exchange_token&client_secret=${clientSecret}&access_token=${shortLivedToken}`);\n    if (!longTokenResponse.ok) {\n        const errorText = await longTokenResponse.text();\n        console.error(\"Erro ao obter token longo prazo:\", errorText);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Erro ao obter token longo prazo\", {\n            status: 500\n        });\n    }\n    const longTokenData = await longTokenResponse.json();\n    const finalToken = longTokenData.access_token;\n    const expiresInSeconds = longTokenData.expires_in;\n    const expiresAt = Math.floor(Date.now() / 1000) + expiresInSeconds;\n    // Converte a validade em um timestamp UNIX para armazenar em \"expires_at\" do Account.\n    // 3. Obter a sessão do usuário logado\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_app_api_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    if (!session?.user?.id) {\n        // Se não tiver sessão, redirecionar ou falhar\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Usu\\xe1rio n\\xe3o autenticado na plataforma\", {\n            status: 401\n        });\n    }\n    const userId = session.user.id;\n    // 4. Armazenar o token do Instagram no banco:\n    // Precisamos criar ou atualizar uma Account para o provider \"instagram\"\n    const provider = \"instagram\";\n    const providerAccountId = tokenData.user_id;\n    // Se já existe uma conta instagram para esse userId, atualiza, senão cria.\n    await _lib_db__WEBPACK_IMPORTED_MODULE_3__.prisma.account.upsert({\n        where: {\n            provider_providerAccountId: {\n                provider: provider,\n                providerAccountId: providerAccountId\n            }\n        },\n        update: {\n            access_token: finalToken,\n            expires_at: expiresAt,\n            token_type: longTokenData.token_type,\n            scope: \"instagram_business_basic,instagram_business_manage_messages,instagram_business_manage_comments,instagram_business_content_publish\"\n        },\n        create: {\n            userId: userId,\n            type: \"oauth\",\n            provider: provider,\n            providerAccountId: providerAccountId,\n            access_token: finalToken,\n            expires_at: expiresAt,\n            token_type: longTokenData.token_type,\n            scope: \"instagram_business_basic,instagram_business_manage_messages,instagram_business_manage_comments,instagram_business_content_publish\"\n        }\n    });\n    // Redireciona o usuário de volta ao dashboard\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(\"/dashboard\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXV0aC9pbnN0YWdyYW0vY2FsbGJhY2svcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSx1Q0FBdUM7QUFDSTtBQUNFO0FBQ29CLENBQUMseURBQXlEO0FBQ3pGLENBQUMsNkNBQTZDO0FBRXpFLGVBQWVJLElBQUlDLE9BQWdCO0lBQ3hDLE1BQU1DLE1BQU0sSUFBSUMsSUFBSUYsUUFBUUMsR0FBRztJQUMvQixNQUFNRSxPQUFPRixJQUFJRyxZQUFZLENBQUNDLEdBQUcsQ0FBQztJQUVsQyxJQUFJLENBQUNGLE1BQU07UUFDVCxPQUFPLElBQUlSLHFEQUFZQSxDQUFDLDhCQUF3QjtZQUFFVyxRQUFRO1FBQUk7SUFDaEU7SUFFQSxNQUFNQyxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQjtJQUNoRCxNQUFNQyxlQUFlSCxRQUFRQyxHQUFHLENBQUNHLHVCQUF1QjtJQUN4RCxNQUFNQyxjQUFjTCxRQUFRQyxHQUFHLENBQUNLLHNCQUFzQjtJQUV0RCwwQ0FBMEM7SUFDMUMsTUFBTUMsZ0JBQWdCLE1BQU1DLE1BQU0sZ0RBQWdEO1FBQ2hGQyxRQUFRO1FBQ1JDLFNBQVM7WUFBRSxnQkFBZ0I7UUFBb0M7UUFDL0RDLE1BQU0sSUFBSUMsZ0JBQWdCO1lBQ3hCQyxXQUFXZDtZQUNYZSxlQUFlWDtZQUNmWSxZQUFZO1lBQ1pDLGNBQWNYO1lBQ2RWO1FBQ0Y7SUFDRjtJQUVBLElBQUksQ0FBQ1ksY0FBY1UsRUFBRSxFQUFFO1FBQ3JCLE1BQU1DLFlBQVksTUFBTVgsY0FBY1ksSUFBSTtRQUMxQ0MsUUFBUUMsS0FBSyxDQUFDLG9DQUFvQ0g7UUFDbEQsT0FBTyxJQUFJL0IscURBQVlBLENBQUMsbUNBQW1DO1lBQUVXLFFBQVE7UUFBSTtJQUMzRTtJQUVBLE1BQU13QixZQUFZLE1BQU1mLGNBQWNnQixJQUFJO0lBTTFDLE1BQU1DLGtCQUFrQkYsVUFBVUcsWUFBWTtJQUU5QywwREFBMEQ7SUFDMUQsTUFBTUMsb0JBQW9CLE1BQU1sQixNQUFNLENBQUMsb0ZBQW9GLEVBQUVMLGFBQWEsY0FBYyxFQUFFcUIsZ0JBQWdCLENBQUM7SUFDM0ssSUFBSSxDQUFDRSxrQkFBa0JULEVBQUUsRUFBRTtRQUN6QixNQUFNQyxZQUFZLE1BQU1RLGtCQUFrQlAsSUFBSTtRQUM5Q0MsUUFBUUMsS0FBSyxDQUFDLG9DQUFvQ0g7UUFDbEQsT0FBTyxJQUFJL0IscURBQVlBLENBQUMsbUNBQW1DO1lBQUVXLFFBQVE7UUFBSTtJQUMzRTtJQUVBLE1BQU02QixnQkFBZ0IsTUFBTUQsa0JBQWtCSCxJQUFJO0lBTWxELE1BQU1LLGFBQWFELGNBQWNGLFlBQVk7SUFDN0MsTUFBTUksbUJBQW1CRixjQUFjRyxVQUFVO0lBQ2pELE1BQU1DLFlBQVlDLEtBQUtDLEtBQUssQ0FBQ0MsS0FBS0MsR0FBRyxLQUFLLFFBQVFOO0lBQ2xELHNGQUFzRjtJQUV0RixzQ0FBc0M7SUFDdEMsTUFBTU8sVUFBVSxNQUFNaEQsMkRBQWdCQSxDQUFDQyxxRUFBV0E7SUFDbEQsSUFBSSxDQUFDK0MsU0FBU0MsTUFBTUMsSUFBSTtRQUN0Qiw4Q0FBOEM7UUFDOUMsT0FBTyxJQUFJbkQscURBQVlBLENBQUMsK0NBQXlDO1lBQUVXLFFBQVE7UUFBSTtJQUNqRjtJQUVBLE1BQU15QyxTQUFTSCxRQUFRQyxJQUFJLENBQUNDLEVBQUU7SUFFOUIsOENBQThDO0lBQzlDLHdFQUF3RTtJQUN4RSxNQUFNRSxXQUFXO0lBQ2pCLE1BQU1DLG9CQUFvQm5CLFVBQVVvQixPQUFPO0lBRTNDLDJFQUEyRTtJQUMzRSxNQUFNcEQsMkNBQU1BLENBQUNxRCxPQUFPLENBQUNDLE1BQU0sQ0FBQztRQUMxQkMsT0FBTztZQUNMQyw0QkFBNEI7Z0JBQzFCTixVQUFVQTtnQkFDVkMsbUJBQW1CQTtZQUNyQjtRQUNGO1FBQ0FNLFFBQVE7WUFDTnRCLGNBQWNHO1lBQ2RvQixZQUFZakI7WUFDWmtCLFlBQVl0QixjQUFjc0IsVUFBVTtZQUNwQ0MsT0FBTztRQUNUO1FBQ0FDLFFBQVE7WUFDTlosUUFBUUE7WUFDUmEsTUFBTTtZQUNOWixVQUFVQTtZQUNWQyxtQkFBbUJBO1lBQ25CaEIsY0FBY0c7WUFDZG9CLFlBQVlqQjtZQUNaa0IsWUFBWXRCLGNBQWNzQixVQUFVO1lBQ3BDQyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLDhDQUE4QztJQUM5QyxPQUFPL0QscURBQVlBLENBQUNrRSxRQUFRLENBQUM7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoanMtcHJpc21hLXRlbXBsYXRlLy4vYXBwL2F1dGgvaW5zdGFncmFtL2NhbGxiYWNrL3JvdXRlLnRzPzQ5Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2F1dGgvaW5zdGFncmFtL2NhbGxiYWNrL3JvdXRlLnRzXHJcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tIFwiQC9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiOyAvLyBBanVzdGUgbyBjYW1pbmhvIGNvbmZvcm1lIHN1YSBjb25maWd1cmHDp8OjbyBkbyBOZXh0QXV0aFxyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvZGJcIjsgLy8gQWp1c3RlIGNvbmZvcm1lIHN1YSBjb25maWd1cmHDp8OjbyBkbyBwcmlzbWFcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogUmVxdWVzdCkge1xyXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gIGNvbnN0IGNvZGUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgnY29kZScpO1xyXG5cclxuICBpZiAoIWNvZGUpIHtcclxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKCdDw7NkaWdvIG7Do28gZm9ybmVjaWRvJywgeyBzdGF0dXM6IDQwMCB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNsaWVudElkID0gcHJvY2Vzcy5lbnYuSU5TVEFHUkFNX0NMSUVOVF9JRCE7XHJcbiAgY29uc3QgY2xpZW50U2VjcmV0ID0gcHJvY2Vzcy5lbnYuSU5TVEFHUkFNX0NMSUVOVF9TRUNSRVQhO1xyXG4gIGNvbnN0IHJlZGlyZWN0VXJpID0gcHJvY2Vzcy5lbnYuSU5TVEFHUkFNX1JFRElSRUNUX1VSSSE7XHJcblxyXG4gIC8vIDEuIFRyb2NhciBjb2RlIHBvciB0b2tlbiBkZSBjdXJ0byBwcmF6b1xyXG4gIGNvbnN0IHRva2VuUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuaW5zdGFncmFtLmNvbS9vYXV0aC9hY2Nlc3NfdG9rZW4nLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sXHJcbiAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCxcclxuICAgICAgY2xpZW50X3NlY3JldDogY2xpZW50U2VjcmV0LFxyXG4gICAgICBncmFudF90eXBlOiAnYXV0aG9yaXphdGlvbl9jb2RlJyxcclxuICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdFVyaSxcclxuICAgICAgY29kZSxcclxuICAgIH0pXHJcbiAgfSk7XHJcblxyXG4gIGlmICghdG9rZW5SZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgdG9rZW5SZXNwb25zZS50ZXh0KCk7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIG9idGVyIHRva2VuIGN1cnRvIHByYXpvOicsIGVycm9yVGV4dCk7XHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnRXJybyBhbyBvYnRlciB0b2tlbiBjdXJ0byBwcmF6bycsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0b2tlbkRhdGEgPSBhd2FpdCB0b2tlblJlc3BvbnNlLmpzb24oKSBhcyB7XHJcbiAgICBhY2Nlc3NfdG9rZW46IHN0cmluZztcclxuICAgIHVzZXJfaWQ6IHN0cmluZztcclxuICAgIHBlcm1pc3Npb25zOiBzdHJpbmdbXTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzaG9ydExpdmVkVG9rZW4gPSB0b2tlbkRhdGEuYWNjZXNzX3Rva2VuO1xyXG5cclxuICAvLyAyLiBUcm9jYXIgbyB0b2tlbiBjdXJ0byBwb3IgdW0gZGUgbG9uZ28gcHJhem8gKDYwIGRpYXMpXHJcbiAgY29uc3QgbG9uZ1Rva2VuUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9ncmFwaC5pbnN0YWdyYW0uY29tL2FjY2Vzc190b2tlbj9ncmFudF90eXBlPWlnX2V4Y2hhbmdlX3Rva2VuJmNsaWVudF9zZWNyZXQ9JHtjbGllbnRTZWNyZXR9JmFjY2Vzc190b2tlbj0ke3Nob3J0TGl2ZWRUb2tlbn1gKTtcclxuICBpZiAoIWxvbmdUb2tlblJlc3BvbnNlLm9rKSB7XHJcbiAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCBsb25nVG9rZW5SZXNwb25zZS50ZXh0KCk7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIG9idGVyIHRva2VuIGxvbmdvIHByYXpvOicsIGVycm9yVGV4dCk7XHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnRXJybyBhbyBvYnRlciB0b2tlbiBsb25nbyBwcmF6bycsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBsb25nVG9rZW5EYXRhID0gYXdhaXQgbG9uZ1Rva2VuUmVzcG9uc2UuanNvbigpIGFzIHtcclxuICAgIGFjY2Vzc190b2tlbjogc3RyaW5nO1xyXG4gICAgdG9rZW5fdHlwZTogc3RyaW5nO1xyXG4gICAgZXhwaXJlc19pbjogbnVtYmVyOyAvLyBlbSBzZWd1bmRvc1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGZpbmFsVG9rZW4gPSBsb25nVG9rZW5EYXRhLmFjY2Vzc190b2tlbjtcclxuICBjb25zdCBleHBpcmVzSW5TZWNvbmRzID0gbG9uZ1Rva2VuRGF0YS5leHBpcmVzX2luO1xyXG4gIGNvbnN0IGV4cGlyZXNBdCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgZXhwaXJlc0luU2Vjb25kcztcclxuICAvLyBDb252ZXJ0ZSBhIHZhbGlkYWRlIGVtIHVtIHRpbWVzdGFtcCBVTklYIHBhcmEgYXJtYXplbmFyIGVtIFwiZXhwaXJlc19hdFwiIGRvIEFjY291bnQuXHJcblxyXG4gIC8vIDMuIE9idGVyIGEgc2Vzc8OjbyBkbyB1c3XDoXJpbyBsb2dhZG9cclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xyXG4gICAgLy8gU2UgbsOjbyB0aXZlciBzZXNzw6NvLCByZWRpcmVjaW9uYXIgb3UgZmFsaGFyXHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnVXN1w6FyaW8gbsOjbyBhdXRlbnRpY2FkbyBuYSBwbGF0YWZvcm1hJywgeyBzdGF0dXM6IDQwMSB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHVzZXJJZCA9IHNlc3Npb24udXNlci5pZDtcclxuXHJcbiAgLy8gNC4gQXJtYXplbmFyIG8gdG9rZW4gZG8gSW5zdGFncmFtIG5vIGJhbmNvOlxyXG4gIC8vIFByZWNpc2Ftb3MgY3JpYXIgb3UgYXR1YWxpemFyIHVtYSBBY2NvdW50IHBhcmEgbyBwcm92aWRlciBcImluc3RhZ3JhbVwiXHJcbiAgY29uc3QgcHJvdmlkZXIgPSBcImluc3RhZ3JhbVwiO1xyXG4gIGNvbnN0IHByb3ZpZGVyQWNjb3VudElkID0gdG9rZW5EYXRhLnVzZXJfaWQ7XHJcblxyXG4gIC8vIFNlIGrDoSBleGlzdGUgdW1hIGNvbnRhIGluc3RhZ3JhbSBwYXJhIGVzc2UgdXNlcklkLCBhdHVhbGl6YSwgc2Vuw6NvIGNyaWEuXHJcbiAgYXdhaXQgcHJpc21hLmFjY291bnQudXBzZXJ0KHtcclxuICAgIHdoZXJlOiB7XHJcbiAgICAgIHByb3ZpZGVyX3Byb3ZpZGVyQWNjb3VudElkOiB7XHJcbiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLFxyXG4gICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBwcm92aWRlckFjY291bnRJZCxcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZToge1xyXG4gICAgICBhY2Nlc3NfdG9rZW46IGZpbmFsVG9rZW4sXHJcbiAgICAgIGV4cGlyZXNfYXQ6IGV4cGlyZXNBdCxcclxuICAgICAgdG9rZW5fdHlwZTogbG9uZ1Rva2VuRGF0YS50b2tlbl90eXBlLFxyXG4gICAgICBzY29wZTogXCJpbnN0YWdyYW1fYnVzaW5lc3NfYmFzaWMsaW5zdGFncmFtX2J1c2luZXNzX21hbmFnZV9tZXNzYWdlcyxpbnN0YWdyYW1fYnVzaW5lc3NfbWFuYWdlX2NvbW1lbnRzLGluc3RhZ3JhbV9idXNpbmVzc19jb250ZW50X3B1Ymxpc2hcIlxyXG4gICAgfSxcclxuICAgIGNyZWF0ZToge1xyXG4gICAgICB1c2VySWQ6IHVzZXJJZCxcclxuICAgICAgdHlwZTogXCJvYXV0aFwiLFxyXG4gICAgICBwcm92aWRlcjogcHJvdmlkZXIsXHJcbiAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBwcm92aWRlckFjY291bnRJZCxcclxuICAgICAgYWNjZXNzX3Rva2VuOiBmaW5hbFRva2VuLFxyXG4gICAgICBleHBpcmVzX2F0OiBleHBpcmVzQXQsXHJcbiAgICAgIHRva2VuX3R5cGU6IGxvbmdUb2tlbkRhdGEudG9rZW5fdHlwZSxcclxuICAgICAgc2NvcGU6IFwiaW5zdGFncmFtX2J1c2luZXNzX2Jhc2ljLGluc3RhZ3JhbV9idXNpbmVzc19tYW5hZ2VfbWVzc2FnZXMsaW5zdGFncmFtX2J1c2luZXNzX21hbmFnZV9jb21tZW50cyxpbnN0YWdyYW1fYnVzaW5lc3NfY29udGVudF9wdWJsaXNoXCJcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gUmVkaXJlY2lvbmEgbyB1c3XDoXJpbyBkZSB2b2x0YSBhbyBkYXNoYm9hcmRcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KCcvZGFzaGJvYXJkJyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsInByaXNtYSIsIkdFVCIsInJlcXVlc3QiLCJ1cmwiLCJVUkwiLCJjb2RlIiwic2VhcmNoUGFyYW1zIiwiZ2V0Iiwic3RhdHVzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiSU5TVEFHUkFNX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIklOU1RBR1JBTV9DTElFTlRfU0VDUkVUIiwicmVkaXJlY3RVcmkiLCJJTlNUQUdSQU1fUkVESVJFQ1RfVVJJIiwidG9rZW5SZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJVUkxTZWFyY2hQYXJhbXMiLCJjbGllbnRfaWQiLCJjbGllbnRfc2VjcmV0IiwiZ3JhbnRfdHlwZSIsInJlZGlyZWN0X3VyaSIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsImNvbnNvbGUiLCJlcnJvciIsInRva2VuRGF0YSIsImpzb24iLCJzaG9ydExpdmVkVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJsb25nVG9rZW5SZXNwb25zZSIsImxvbmdUb2tlbkRhdGEiLCJmaW5hbFRva2VuIiwiZXhwaXJlc0luU2Vjb25kcyIsImV4cGlyZXNfaW4iLCJleHBpcmVzQXQiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93Iiwic2Vzc2lvbiIsInVzZXIiLCJpZCIsInVzZXJJZCIsInByb3ZpZGVyIiwicHJvdmlkZXJBY2NvdW50SWQiLCJ1c2VyX2lkIiwiYWNjb3VudCIsInVwc2VydCIsIndoZXJlIiwicHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQiLCJ1cGRhdGUiLCJleHBpcmVzX2F0IiwidG9rZW5fdHlwZSIsInNjb3BlIiwiY3JlYXRlIiwidHlwZSIsInJlZGlyZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/auth/instagram/callback/route.ts\n");

/***/ }),

/***/ "(rsc)/./auth.config.ts":
/*!************************!*\
  !*** ./auth.config.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/auth */ \"(rsc)/./lib/auth/index.ts\");\n/* harmony import */ var _schemas_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./schemas/auth */ \"(rsc)/./schemas/auth/index.ts\");\n/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services */ \"(rsc)/./services/index.ts\");\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            async authorize (credentials) {\n                const validdCredentials = _schemas_auth__WEBPACK_IMPORTED_MODULE_5__.CredentialsSchema.safeParse(credentials);\n                if (validdCredentials.success) {\n                    const { email, password } = validdCredentials.data;\n                    const user = await (0,_services__WEBPACK_IMPORTED_MODULE_6__.findUserbyEmail)(email);\n                    if (!user || !user.password) {\n                        throw new _lib_auth__WEBPACK_IMPORTED_MODULE_4__.UserNotFound();\n                    }\n                    const validPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, user.password);\n                    if (validPassword) return user;\n                }\n                //TODO: Would it be better to throw new InvalidCredential?\n                return null;\n            }\n        }),\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hdXRoLmNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBZ0M7QUFFMEI7QUFDVjtBQUNBO0FBQ2M7QUFDWDtBQUNOO0FBRTdDLGlFQUFlO0lBQ2RPLFdBQVc7UUFDVk4sMkVBQVdBLENBQUM7WUFDWCxNQUFNTyxXQUFVQyxXQUFXO2dCQUMxQixNQUFNQyxvQkFBb0JMLDREQUFpQkEsQ0FBQ00sU0FBUyxDQUFDRjtnQkFDdEQsSUFBSUMsa0JBQWtCRSxPQUFPLEVBQUU7b0JBQzlCLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUUsR0FBR0osa0JBQWtCSyxJQUFJO29CQUNsRCxNQUFNQyxPQUFPLE1BQU1WLDBEQUFlQSxDQUFDTztvQkFDbkMsSUFBSSxDQUFDRyxRQUFRLENBQUNBLEtBQUtGLFFBQVEsRUFBRTt3QkFDNUIsTUFBTSxJQUFJVixtREFBWUE7b0JBQ3ZCO29CQUNBLE1BQU1hLGdCQUFnQixNQUFNakIsdURBQWdCLENBQUNjLFVBQVVFLEtBQUtGLFFBQVE7b0JBQ3BFLElBQUlHLGVBQWUsT0FBT0Q7Z0JBQzNCO2dCQUNBLDBEQUEwRDtnQkFDMUQsT0FBTztZQUNSO1FBQ0Q7UUFDQWIsa0VBQU1BO1FBQ05ELGtFQUFNQTtLQUNOO0FBQ0YsQ0FBQyxFQUEwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhqcy1wcmlzbWEtdGVtcGxhdGUvLi9hdXRoLmNvbmZpZy50cz80MzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHRqcyBmcm9tIFwiYmNyeXB0anNcIjtcclxuaW1wb3J0IHR5cGUgeyBOZXh0QXV0aENvbmZpZyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IENyZWRlbnRpYWxzIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XHJcbmltcG9ydCBHaXRodWIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ2l0aHViXCI7XHJcbmltcG9ydCBHb29nbGUgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCI7XHJcbmltcG9ydCB7IEludmFsaWRDcmVkZW50aWFscywgVXNlck5vdEZvdW5kIH0gZnJvbSBcIi4vbGliL2F1dGhcIjtcclxuaW1wb3J0IHsgQ3JlZGVudGlhbHNTY2hlbWEgfSBmcm9tIFwiLi9zY2hlbWFzL2F1dGhcIjtcclxuaW1wb3J0IHsgZmluZFVzZXJieUVtYWlsIH0gZnJvbSBcIi4vc2VydmljZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHRwcm92aWRlcnM6IFtcclxuXHRcdENyZWRlbnRpYWxzKHtcclxuXHRcdFx0YXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XHJcblx0XHRcdFx0Y29uc3QgdmFsaWRkQ3JlZGVudGlhbHMgPSBDcmVkZW50aWFsc1NjaGVtYS5zYWZlUGFyc2UoY3JlZGVudGlhbHMpO1xyXG5cdFx0XHRcdGlmICh2YWxpZGRDcmVkZW50aWFscy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gdmFsaWRkQ3JlZGVudGlhbHMuZGF0YTtcclxuXHRcdFx0XHRcdGNvbnN0IHVzZXIgPSBhd2FpdCBmaW5kVXNlcmJ5RW1haWwoZW1haWwpO1xyXG5cdFx0XHRcdFx0aWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkKSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBVc2VyTm90Rm91bmQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvbnN0IHZhbGlkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHRqcy5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuXHRcdFx0XHRcdGlmICh2YWxpZFBhc3N3b3JkKSByZXR1cm4gdXNlcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9UT0RPOiBXb3VsZCBpdCBiZSBiZXR0ZXIgdG8gdGhyb3cgbmV3IEludmFsaWRDcmVkZW50aWFsP1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSksXHJcblx0XHRHb29nbGUsXHJcblx0XHRHaXRodWIsXHJcblx0XSxcclxufSBzYXRpc2ZpZXMgTmV4dEF1dGhDb25maWc7XHJcbiJdLCJuYW1lcyI6WyJiY3J5cHRqcyIsIkNyZWRlbnRpYWxzIiwiR2l0aHViIiwiR29vZ2xlIiwiVXNlck5vdEZvdW5kIiwiQ3JlZGVudGlhbHNTY2hlbWEiLCJmaW5kVXNlcmJ5RW1haWwiLCJwcm92aWRlcnMiLCJhdXRob3JpemUiLCJjcmVkZW50aWFscyIsInZhbGlkZENyZWRlbnRpYWxzIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsImVtYWlsIiwicGFzc3dvcmQiLCJkYXRhIiwidXNlciIsInZhbGlkUGFzc3dvcmQiLCJjb21wYXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./auth.config.ts\n");

/***/ }),

/***/ "(rsc)/./auth.ts":
/*!*****************!*\
  !*** ./auth.ts ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut),\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var _auth_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth.config */ \"(rsc)/./auth.config.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services */ \"(rsc)/./services/index.ts\");\n/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/auth */ \"(rsc)/./services/auth/index.ts\");\n\n\n\n\n\n\n\nconst { handlers: { GET, POST }, auth, signIn, signOut, unstable_update: update } = (0,next_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_lib_db__WEBPACK_IMPORTED_MODULE_4__.prisma),\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/login\"\n    },\n    callbacks: {\n        async signIn ({ user, email, account, profile }) {\n            if (account && (account.provider === \"google\" || account.provider === \"github\")) {\n                return true;\n            }\n            if (user.email) {\n                const registeredUser = await (0,_services__WEBPACK_IMPORTED_MODULE_5__.findUserbyEmail)(user?.email);\n                if (!registeredUser?.emailVerified) return false;\n            }\n            return true;\n        },\n        async jwt ({ token, user, trigger, session }) {\n            if (trigger && trigger === \"update\" && session) {\n                token.isTwoFactorEnabled = session.user.isTwoFactorEnabled;\n                return token;\n            }\n            if (user) {\n                // User is available during sign-in\n                if (user.id) {\n                    const isTwoFactorEnabled = await (0,_services_auth__WEBPACK_IMPORTED_MODULE_6__.isTwoFactorAutenticationEnabled)(user?.id || \"\");\n                    token.isTwoFactorEnabled = isTwoFactorEnabled;\n                }\n                token.role = _prisma_client__WEBPACK_IMPORTED_MODULE_1__.UserRole.DEFAULT;\n            }\n            return token;\n        },\n        session ({ session, token }) {\n            // `session.user.role` is now a valid property, and will be type-checked\n            // in places like `useSession().data.user` or `auth().user`\n            if (session.user) {\n                session.user.id = token.sub;\n                session.user.isTwoFactorEnabled = token.isTwoFactorEnabled;\n                session.user.role = token.role; // Adicionado role à session\n            }\n            return session; // Retorna a sessão diretamente\n        }\n    },\n    ..._auth_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ1g7QUFDVDtBQUNNO0FBQ0w7QUFDVztBQUNxQjtBQUUzRCxNQUFNLEVBQ1hPLFVBQVUsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUUsRUFDdkJDLElBQUksRUFDSkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1BDLGlCQUFpQkMsTUFBTSxFQUN4QixHQUFHWixxREFBUUEsQ0FBQztJQUNYYSxTQUFTZixtRUFBYUEsQ0FBQ0ksMkNBQU1BO0lBQzdCWSxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxPQUFPO1FBQ0xQLFFBQVE7SUFDVjtJQUNBUSxXQUFXO1FBQ1QsTUFBTVIsUUFBTyxFQUFFUyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUU7WUFDNUMsSUFBSUQsV0FBWUEsQ0FBQUEsUUFBUUUsUUFBUSxLQUFLLFlBQVlGLFFBQVFFLFFBQVEsS0FBSyxRQUFPLEdBQUk7Z0JBQy9FLE9BQU87WUFDVDtZQUNBLElBQUlKLEtBQUtDLEtBQUssRUFBRTtnQkFDZCxNQUFNSSxpQkFBaUIsTUFBTXBCLDBEQUFlQSxDQUFDZSxNQUFNQztnQkFDbkQsSUFBSSxDQUFDSSxnQkFBZ0JDLGVBQWUsT0FBTztZQUM3QztZQUNBLE9BQU87UUFDVDtRQUNBLE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFUixJQUFJLEVBQUVTLE9BQU8sRUFBRWIsT0FBTyxFQUFFO1lBQ3pDLElBQUlhLFdBQVdBLFlBQVksWUFBWWIsU0FBUztnQkFDOUNZLE1BQU1FLGtCQUFrQixHQUFHZCxRQUFRSSxJQUFJLENBQUNVLGtCQUFrQjtnQkFDMUQsT0FBT0Y7WUFDVDtZQUNBLElBQUlSLE1BQU07Z0JBQ1IsbUNBQW1DO2dCQUNuQyxJQUFJQSxLQUFLVyxFQUFFLEVBQUU7b0JBQ1gsTUFBTUQscUJBQXFCLE1BQU14QiwrRUFBK0JBLENBQUNjLE1BQU1XLE1BQU07b0JBQzdFSCxNQUFNRSxrQkFBa0IsR0FBR0E7Z0JBQzdCO2dCQUNBRixNQUFNSSxJQUFJLEdBQUcvQixvREFBUUEsQ0FBQ2dDLE9BQU87WUFDL0I7WUFDQSxPQUFPTDtRQUNUO1FBQ0FaLFNBQVEsRUFBRUEsT0FBTyxFQUFFWSxLQUFLLEVBQUU7WUFDeEIsd0VBQXdFO1lBQ3hFLDJEQUEyRDtZQUMzRCxJQUFJWixRQUFRSSxJQUFJLEVBQUU7Z0JBQ2hCSixRQUFRSSxJQUFJLENBQUNXLEVBQUUsR0FBR0gsTUFBTU0sR0FBRztnQkFDM0JsQixRQUFRSSxJQUFJLENBQUNVLGtCQUFrQixHQUFHRixNQUFNRSxrQkFBa0I7Z0JBQzFEZCxRQUFRSSxJQUFJLENBQUNZLElBQUksR0FBR0osTUFBTUksSUFBSSxFQUFjLDRCQUE0QjtZQUMxRTtZQUNBLE9BQU9oQixTQUFTLCtCQUErQjtRQUNqRDtJQUNGO0lBQ0EsR0FBR2Isb0RBQVU7QUFDZixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGpzLXByaXNtYS10ZW1wbGF0ZS8uL2F1dGgudHM/OTIzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFBZGFwdGVyIH0gZnJvbSBcIkBhdXRoL3ByaXNtYS1hZGFwdGVyXCI7XHJcbmltcG9ydCB7IFVzZXJSb2xlIH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XHJcbmltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbmltcG9ydCBhdXRoQ29uZmlnIGZyb20gXCIuL2F1dGguY29uZmlnXCI7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuL2xpYi9kYlwiO1xyXG5pbXBvcnQgeyBmaW5kVXNlcmJ5RW1haWwgfSBmcm9tIFwiLi9zZXJ2aWNlc1wiO1xyXG5pbXBvcnQgeyBpc1R3b0ZhY3RvckF1dGVudGljYXRpb25FbmFibGVkIH0gZnJvbSBcIi4vc2VydmljZXMvYXV0aFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHtcclxuICBoYW5kbGVyczogeyBHRVQsIFBPU1QgfSxcclxuICBhdXRoLFxyXG4gIHNpZ25JbixcclxuICBzaWduT3V0LFxyXG4gIHVuc3RhYmxlX3VwZGF0ZTogdXBkYXRlLFxyXG59ID0gTmV4dEF1dGgoe1xyXG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSxcclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIixcclxuICB9LFxyXG4gIHBhZ2VzOiB7XHJcbiAgICBzaWduSW46IFwiL2F1dGgvbG9naW5cIixcclxuICB9LFxyXG4gIGNhbGxiYWNrczoge1xyXG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciwgZW1haWwsIGFjY291bnQsIHByb2ZpbGUgfSkge1xyXG4gICAgICBpZiAoYWNjb3VudCAmJiAoYWNjb3VudC5wcm92aWRlciA9PT0gXCJnb29nbGVcIiB8fCBhY2NvdW50LnByb3ZpZGVyID09PSBcImdpdGh1YlwiKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh1c2VyLmVtYWlsKSB7XHJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFVzZXIgPSBhd2FpdCBmaW5kVXNlcmJ5RW1haWwodXNlcj8uZW1haWwpO1xyXG4gICAgICAgIGlmICghcmVnaXN0ZXJlZFVzZXI/LmVtYWlsVmVyaWZpZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgdHJpZ2dlciwgc2Vzc2lvbiB9KSB7XHJcbiAgICAgIGlmICh0cmlnZ2VyICYmIHRyaWdnZXIgPT09IFwidXBkYXRlXCIgJiYgc2Vzc2lvbikge1xyXG4gICAgICAgIHRva2VuLmlzVHdvRmFjdG9yRW5hYmxlZCA9IHNlc3Npb24udXNlci5pc1R3b0ZhY3RvckVuYWJsZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgLy8gVXNlciBpcyBhdmFpbGFibGUgZHVyaW5nIHNpZ24taW5cclxuICAgICAgICBpZiAodXNlci5pZCkge1xyXG4gICAgICAgICAgY29uc3QgaXNUd29GYWN0b3JFbmFibGVkID0gYXdhaXQgaXNUd29GYWN0b3JBdXRlbnRpY2F0aW9uRW5hYmxlZCh1c2VyPy5pZCB8fCBcIlwiKTtcclxuICAgICAgICAgIHRva2VuLmlzVHdvRmFjdG9yRW5hYmxlZCA9IGlzVHdvRmFjdG9yRW5hYmxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9rZW4ucm9sZSA9IFVzZXJSb2xlLkRFRkFVTFQ7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfSxcclxuICAgIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XHJcbiAgICAgIC8vIGBzZXNzaW9uLnVzZXIucm9sZWAgaXMgbm93IGEgdmFsaWQgcHJvcGVydHksIGFuZCB3aWxsIGJlIHR5cGUtY2hlY2tlZFxyXG4gICAgICAvLyBpbiBwbGFjZXMgbGlrZSBgdXNlU2Vzc2lvbigpLmRhdGEudXNlcmAgb3IgYGF1dGgoKS51c2VyYFxyXG4gICAgICBpZiAoc2Vzc2lvbi51c2VyKSB7ICAvLyBSZW1vdmlkbyB0b2tlbi5zdWIgZGEgY29uZGnDp8Ojb1xyXG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLnN1YjtcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaXNUd29GYWN0b3JFbmFibGVkID0gdG9rZW4uaXNUd29GYWN0b3JFbmFibGVkIGFzIGJvb2xlYW47XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlIGFzIFVzZXJSb2xlOyAvLyBBZGljaW9uYWRvIHJvbGUgw6Agc2Vzc2lvblxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZXNzaW9uOyAvLyBSZXRvcm5hIGEgc2Vzc8OjbyBkaXJldGFtZW50ZVxyXG4gICAgfSxcclxuICB9LFxyXG4gIC4uLmF1dGhDb25maWcsXHJcbn0pOyJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiVXNlclJvbGUiLCJOZXh0QXV0aCIsImF1dGhDb25maWciLCJwcmlzbWEiLCJmaW5kVXNlcmJ5RW1haWwiLCJpc1R3b0ZhY3RvckF1dGVudGljYXRpb25FbmFibGVkIiwiaGFuZGxlcnMiLCJHRVQiLCJQT1NUIiwiYXV0aCIsInNpZ25JbiIsInNpZ25PdXQiLCJ1bnN0YWJsZV91cGRhdGUiLCJ1cGRhdGUiLCJhZGFwdGVyIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwicGFnZXMiLCJjYWxsYmFja3MiLCJ1c2VyIiwiZW1haWwiLCJhY2NvdW50IiwicHJvZmlsZSIsInByb3ZpZGVyIiwicmVnaXN0ZXJlZFVzZXIiLCJlbWFpbFZlcmlmaWVkIiwiand0IiwidG9rZW4iLCJ0cmlnZ2VyIiwiaXNUd29GYWN0b3JFbmFibGVkIiwiaWQiLCJyb2xlIiwiREVGQVVMVCIsInN1YiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/index.ts":
/*!***************************!*\
  !*** ./lib/auth/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidCredentials: () => (/* reexport safe */ _invalid_credentials__WEBPACK_IMPORTED_MODULE_0__.InvalidCredentials),\n/* harmony export */   UserNotFound: () => (/* reexport safe */ _user_not_found__WEBPACK_IMPORTED_MODULE_1__.UserNotFound)\n/* harmony export */ });\n/* harmony import */ var _invalid_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./invalid-credentials */ \"(rsc)/./lib/auth/invalid-credentials.ts\");\n/* harmony import */ var _user_not_found__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user-not-found */ \"(rsc)/./lib/auth/user-not-found.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoanMtcHJpc21hLXRlbXBsYXRlLy4vbGliL2F1dGgvaW5kZXgudHM/NTY4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBJbnZhbGlkQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9pbnZhbGlkLWNyZWRlbnRpYWxzXCI7XHJcbmV4cG9ydCB7IFVzZXJOb3RGb3VuZCB9IGZyb20gXCIuL3VzZXItbm90LWZvdW5kXCI7XHJcbiJdLCJuYW1lcyI6WyJJbnZhbGlkQ3JlZGVudGlhbHMiLCJVc2VyTm90Rm91bmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/invalid-credentials.ts":
/*!*****************************************!*\
  !*** ./lib/auth/invalid-credentials.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidCredentials: () => (/* binding */ InvalidCredentials)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n\n//https://authjs.dev/reference/core/providers/credentials#authorize\nclass InvalidCredentials extends next_auth__WEBPACK_IMPORTED_MODULE_0__.CredentialsSignin {\n    constructor(...args){\n        super(...args);\n        this.code = \"Credenciais Inv\\xe1lidas\";\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThDO0FBQzlDLG1FQUFtRTtBQUNuRSxNQUFNQywyQkFBMkJELHdEQUFpQkE7OzthQUNqREUsT0FBTzs7QUFDUjtBQUU4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhqcy1wcmlzbWEtdGVtcGxhdGUvLi9saWIvYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWxzLnRzPzFjZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ3JlZGVudGlhbHNTaWduaW4gfSBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbi8vaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscyNhdXRob3JpemVcclxuY2xhc3MgSW52YWxpZENyZWRlbnRpYWxzIGV4dGVuZHMgQ3JlZGVudGlhbHNTaWduaW4ge1xyXG5cdGNvZGUgPSBcIkNyZWRlbmNpYWlzIEludsOhbGlkYXNcIjtcclxufVxyXG5cclxuZXhwb3J0IHsgSW52YWxpZENyZWRlbnRpYWxzIH07XHJcbiJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1NpZ25pbiIsIkludmFsaWRDcmVkZW50aWFscyIsImNvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/invalid-credentials.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/user-not-found.ts":
/*!************************************!*\
  !*** ./lib/auth/user-not-found.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserNotFound: () => (/* binding */ UserNotFound)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n\n//https://authjs.dev/reference/core/providers/credentials#authorize\nclass UserNotFound extends next_auth__WEBPACK_IMPORTED_MODULE_0__.CredentialsSignin {\n    constructor(...args){\n        super(...args);\n        this.code = \"Usu\\xe1rio n\\xe3o encontrado\";\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC91c2VyLW5vdC1mb3VuZC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4QztBQUM5QyxtRUFBbUU7QUFDbkUsTUFBTUMscUJBQXFCRCx3REFBaUJBOzs7YUFDM0NFLE9BQU87O0FBQ1I7QUFFd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoanMtcHJpc21hLXRlbXBsYXRlLy4vbGliL2F1dGgvdXNlci1ub3QtZm91bmQudHM/NzdmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcmVkZW50aWFsc1NpZ25pbiB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuLy9odHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2NyZWRlbnRpYWxzI2F1dGhvcml6ZVxyXG5jbGFzcyBVc2VyTm90Rm91bmQgZXh0ZW5kcyBDcmVkZW50aWFsc1NpZ25pbiB7XHJcblx0Y29kZSA9IFwiVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvXCI7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFVzZXJOb3RGb3VuZCB9O1xyXG4iXSwibmFtZXMiOlsiQ3JlZGVudGlhbHNTaWduaW4iLCJVc2VyTm90Rm91bmQiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/user-not-found.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGtCQUFrQkM7QUFFakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUc7QUFFbkUsSUFBSUksSUFBcUMsRUFBRUgsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGpzLXByaXNtYS10ZW1wbGF0ZS8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHsgcHJpc21hOiBQcmlzbWFDbGllbnQgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hIHx8IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7XHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   generateOTP: () => (/* binding */ generateOTP)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction generateOTP(numberOfDigits) {\n    const digits = \"0123456789\";\n    let OTP = \"\";\n    const len = digits.length;\n    for(let i = 0; i < numberOfDigits; i++){\n        OTP += digits[Math.floor(Math.random() * len)];\n    }\n    return OTP;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2QztBQUNKO0FBRWxDLFNBQVNFLEdBQUcsR0FBR0MsTUFBb0I7SUFDekMsT0FBT0YsdURBQU9BLENBQUNELDBDQUFJQSxDQUFDRztBQUNyQjtBQUVPLFNBQVNDLFlBQVlDLGNBQXNCO0lBQ2pELE1BQU1DLFNBQVM7SUFDZixJQUFJQyxNQUFNO0lBQ1YsTUFBTUMsTUFBTUYsT0FBT0csTUFBTTtJQUN6QixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUwsZ0JBQWdCSyxJQUFLO1FBQ3hDSCxPQUFPRCxNQUFNLENBQUNLLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLTCxLQUFLO0lBQy9DO0lBRUEsT0FBT0Q7QUFDUiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhqcy1wcmlzbWEtdGVtcGxhdGUvLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIENsYXNzVmFsdWUsIGNsc3ggfSBmcm9tIFwiY2xzeFwiO1xyXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY24oLi4uaW5wdXRzOiBDbGFzc1ZhbHVlW10pIHtcclxuXHRyZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVPVFAobnVtYmVyT2ZEaWdpdHM6IG51bWJlcikge1xyXG5cdGNvbnN0IGRpZ2l0cyA9IFwiMDEyMzQ1Njc4OVwiO1xyXG5cdGxldCBPVFAgPSBcIlwiO1xyXG5cdGNvbnN0IGxlbiA9IGRpZ2l0cy5sZW5ndGg7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkRpZ2l0czsgaSsrKSB7XHJcblx0XHRPVFAgKz0gZGlnaXRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbildO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIE9UUDtcclxufVxyXG4iXSwibmFtZXMiOlsiY2xzeCIsInR3TWVyZ2UiLCJjbiIsImlucHV0cyIsImdlbmVyYXRlT1RQIiwibnVtYmVyT2ZEaWdpdHMiLCJkaWdpdHMiLCJPVFAiLCJsZW4iLCJsZW5ndGgiLCJpIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./schemas/auth/index.ts":
/*!*******************************!*\
  !*** ./schemas/auth/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CredentialsSchema: () => (/* binding */ CredentialsSchema),\n/* harmony export */   MagicLinkSignInSchema: () => (/* binding */ MagicLinkSignInSchema),\n/* harmony export */   NewPasswordSchema: () => (/* binding */ NewPasswordSchema),\n/* harmony export */   RegisterSchema: () => (/* binding */ RegisterSchema),\n/* harmony export */   ResetPasswordSchema: () => (/* binding */ ResetPasswordSchema),\n/* harmony export */   UserSettingsSchema: () => (/* binding */ UserSettingsSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\nconst CredentialsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(6),\n    code: zod__WEBPACK_IMPORTED_MODULE_0__.z.optional(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())\n});\nconst RegisterSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(5),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(6)\n});\n// .refine(\n//   (values) => {\n//     console.log(`Values ${JSON.stringify(values)}`);\n//     return values.password === values.matchPassword;\n//   },\n//   {\n//     message: \"Passwords must match!\",\n//     path: [\"confirmPassword\"],\n//   }\n// );\nconst UserSettingsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.optional(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(5)),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.optional(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email()),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.optional(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(6)),\n    newPassword: zod__WEBPACK_IMPORTED_MODULE_0__.z.optional(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(6)),\n    isTwoFactorAuthEnabled: zod__WEBPACK_IMPORTED_MODULE_0__.z.optional(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean())\n}).refine((values)=>{\n    if (values.password && !values.newPassword) return false;\n    return true;\n}, {\n    message: \"Nova senha requerida\",\n    path: [\n        \"newPassword\"\n    ]\n}).refine((values)=>{\n    if (values.newPassword && !values.password) return false;\n    return true;\n}, {\n    message: \"Senha requerida\",\n    path: [\n        \"password\"\n    ]\n});\n// .refine(\n// \t(values) => {\n// \t\treturn values.password && values.newPassword && values.password === values.newPassword;\n// \t},\n// \t{\n// \t\tmessage: \"Os campos de Senha e Nova senha devem coincidir\",\n// \t\tpath: [\"password\"],\n// \t},\n// );\nconst ResetPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email()\n});\nconst NewPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(6)\n});\nconst MagicLinkSignInSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().email()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zY2hlbWFzL2F1dGgvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3QjtBQUVqQixNQUFNQyxvQkFBb0JELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDekNDLE9BQU9ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdELEtBQUs7SUFDdkJFLFVBQVVMLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdFLEdBQUcsQ0FBQztJQUN6QkMsTUFBTVAsa0NBQUNBLENBQUNRLFFBQVEsQ0FBQ1Isa0NBQUNBLENBQUNJLE1BQU07QUFDMUIsR0FBRztBQUVJLE1BQU1LLGlCQUFpQlQsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUN0Q1EsTUFBTVYsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0UsR0FBRyxDQUFDO0lBQ3JCSCxPQUFPSCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHRCxLQUFLO0lBQ3ZCRSxVQUFVTCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHRSxHQUFHLENBQUM7QUFDMUIsR0FBRztBQUNILFdBQVc7QUFDWCxrQkFBa0I7QUFDbEIsdURBQXVEO0FBQ3ZELHVEQUF1RDtBQUN2RCxPQUFPO0FBQ1AsTUFBTTtBQUNOLHdDQUF3QztBQUN4QyxpQ0FBaUM7QUFDakMsTUFBTTtBQUNOLEtBQUs7QUFFRSxNQUFNSyxxQkFBcUJYLGtDQUFDQSxDQUNqQ0UsTUFBTSxDQUFDO0lBQ1BRLE1BQU1WLGtDQUFDQSxDQUFDUSxRQUFRLENBQUNSLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdFLEdBQUcsQ0FBQztJQUNoQ0gsT0FBT0gsa0NBQUNBLENBQUNRLFFBQVEsQ0FBQ1Isa0NBQUNBLENBQUNJLE1BQU0sR0FBR0QsS0FBSztJQUNsQ0UsVUFBVUwsa0NBQUNBLENBQUNRLFFBQVEsQ0FBQ1Isa0NBQUNBLENBQUNJLE1BQU0sR0FBR0UsR0FBRyxDQUFDO0lBQ3BDTSxhQUFhWixrQ0FBQ0EsQ0FBQ1EsUUFBUSxDQUFDUixrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHRSxHQUFHLENBQUM7SUFDdkNPLHdCQUF3QmIsa0NBQUNBLENBQUNRLFFBQVEsQ0FBQ1Isa0NBQUNBLENBQUNjLE9BQU87QUFDN0MsR0FDQ0MsTUFBTSxDQUNOLENBQUNDO0lBQ0EsSUFBSUEsT0FBT1gsUUFBUSxJQUFJLENBQUNXLE9BQU9KLFdBQVcsRUFBRSxPQUFPO0lBQ25ELE9BQU87QUFDUixHQUNBO0lBQ0NLLFNBQVM7SUFDVEMsTUFBTTtRQUFDO0tBQWM7QUFDdEIsR0FFQUgsTUFBTSxDQUNOLENBQUNDO0lBQ0EsSUFBSUEsT0FBT0osV0FBVyxJQUFJLENBQUNJLE9BQU9YLFFBQVEsRUFBRSxPQUFPO0lBQ25ELE9BQU87QUFDUixHQUNBO0lBQ0NZLFNBQVM7SUFDVEMsTUFBTTtRQUFDO0tBQVc7QUFDbkIsR0FDQztBQUNILFdBQVc7QUFDWCxpQkFBaUI7QUFDakIsNEZBQTRGO0FBQzVGLE1BQU07QUFDTixLQUFLO0FBQ0wsZ0VBQWdFO0FBQ2hFLHdCQUF3QjtBQUN4QixNQUFNO0FBQ04sS0FBSztBQUVFLE1BQU1DLHNCQUFzQm5CLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDM0NDLE9BQU9ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdELEtBQUs7QUFDeEIsR0FBRztBQUVJLE1BQU1pQixvQkFBb0JwQixrQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQ3pDRyxVQUFVTCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHRSxHQUFHLENBQUM7QUFDMUIsR0FBRztBQUVJLE1BQU1lLHdCQUF3QnJCLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDN0NDLE9BQU9ILGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdELEtBQUs7QUFDeEIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhqcy1wcmlzbWEtdGVtcGxhdGUvLi9zY2hlbWFzL2F1dGgvaW5kZXgudHM/NmY2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IENyZWRlbnRpYWxzU2NoZW1hID0gei5vYmplY3Qoe1xyXG5cdGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCksXHJcblx0cGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDYpLFxyXG5cdGNvZGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlZ2lzdGVyU2NoZW1hID0gei5vYmplY3Qoe1xyXG5cdG5hbWU6IHouc3RyaW5nKCkubWluKDUpLFxyXG5cdGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCksXHJcblx0cGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDYpLFxyXG59KTtcclxuLy8gLnJlZmluZShcclxuLy8gICAodmFsdWVzKSA9PiB7XHJcbi8vICAgICBjb25zb2xlLmxvZyhgVmFsdWVzICR7SlNPTi5zdHJpbmdpZnkodmFsdWVzKX1gKTtcclxuLy8gICAgIHJldHVybiB2YWx1ZXMucGFzc3dvcmQgPT09IHZhbHVlcy5tYXRjaFBhc3N3b3JkO1xyXG4vLyAgIH0sXHJcbi8vICAge1xyXG4vLyAgICAgbWVzc2FnZTogXCJQYXNzd29yZHMgbXVzdCBtYXRjaCFcIixcclxuLy8gICAgIHBhdGg6IFtcImNvbmZpcm1QYXNzd29yZFwiXSxcclxuLy8gICB9XHJcbi8vICk7XHJcblxyXG5leHBvcnQgY29uc3QgVXNlclNldHRpbmdzU2NoZW1hID0gelxyXG5cdC5vYmplY3Qoe1xyXG5cdFx0bmFtZTogei5vcHRpb25hbCh6LnN0cmluZygpLm1pbig1KSksXHJcblx0XHRlbWFpbDogei5vcHRpb25hbCh6LnN0cmluZygpLmVtYWlsKCkpLFxyXG5cdFx0cGFzc3dvcmQ6IHoub3B0aW9uYWwoei5zdHJpbmcoKS5taW4oNikpLFxyXG5cdFx0bmV3UGFzc3dvcmQ6IHoub3B0aW9uYWwoei5zdHJpbmcoKS5taW4oNikpLFxyXG5cdFx0aXNUd29GYWN0b3JBdXRoRW5hYmxlZDogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXHJcblx0fSlcclxuXHQucmVmaW5lKFxyXG5cdFx0KHZhbHVlcykgPT4ge1xyXG5cdFx0XHRpZiAodmFsdWVzLnBhc3N3b3JkICYmICF2YWx1ZXMubmV3UGFzc3dvcmQpIHJldHVybiBmYWxzZTtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRtZXNzYWdlOiBcIk5vdmEgc2VuaGEgcmVxdWVyaWRhXCIsXHJcblx0XHRcdHBhdGg6IFtcIm5ld1Bhc3N3b3JkXCJdLFxyXG5cdFx0fSxcclxuXHQpXHJcblx0LnJlZmluZShcclxuXHRcdCh2YWx1ZXMpID0+IHtcclxuXHRcdFx0aWYgKHZhbHVlcy5uZXdQYXNzd29yZCAmJiAhdmFsdWVzLnBhc3N3b3JkKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bWVzc2FnZTogXCJTZW5oYSByZXF1ZXJpZGFcIixcclxuXHRcdFx0cGF0aDogW1wicGFzc3dvcmRcIl0sXHJcblx0XHR9LFxyXG5cdCk7XHJcbi8vIC5yZWZpbmUoXHJcbi8vIFx0KHZhbHVlcykgPT4ge1xyXG4vLyBcdFx0cmV0dXJuIHZhbHVlcy5wYXNzd29yZCAmJiB2YWx1ZXMubmV3UGFzc3dvcmQgJiYgdmFsdWVzLnBhc3N3b3JkID09PSB2YWx1ZXMubmV3UGFzc3dvcmQ7XHJcbi8vIFx0fSxcclxuLy8gXHR7XHJcbi8vIFx0XHRtZXNzYWdlOiBcIk9zIGNhbXBvcyBkZSBTZW5oYSBlIE5vdmEgc2VuaGEgZGV2ZW0gY29pbmNpZGlyXCIsXHJcbi8vIFx0XHRwYXRoOiBbXCJwYXNzd29yZFwiXSxcclxuLy8gXHR9LFxyXG4vLyApO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlc2V0UGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XHJcblx0ZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgTmV3UGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XHJcblx0cGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDYpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBNYWdpY0xpbmtTaWduSW5TY2hlbWEgPSB6Lm9iamVjdCh7XHJcblx0ZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKSxcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJ6IiwiQ3JlZGVudGlhbHNTY2hlbWEiLCJvYmplY3QiLCJlbWFpbCIsInN0cmluZyIsInBhc3N3b3JkIiwibWluIiwiY29kZSIsIm9wdGlvbmFsIiwiUmVnaXN0ZXJTY2hlbWEiLCJuYW1lIiwiVXNlclNldHRpbmdzU2NoZW1hIiwibmV3UGFzc3dvcmQiLCJpc1R3b0ZhY3RvckF1dGhFbmFibGVkIiwiYm9vbGVhbiIsInJlZmluZSIsInZhbHVlcyIsIm1lc3NhZ2UiLCJwYXRoIiwiUmVzZXRQYXNzd29yZFNjaGVtYSIsIk5ld1Bhc3N3b3JkU2NoZW1hIiwiTWFnaWNMaW5rU2lnbkluU2NoZW1hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./schemas/auth/index.ts\n");

/***/ }),

/***/ "(rsc)/./services/auth/email-verification/index.ts":
/*!***************************************************!*\
  !*** ./services/auth/email-verification/index.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createVerificationToken: () => (/* binding */ createVerificationToken),\n/* harmony export */   deleteVerificationTokenbyId: () => (/* binding */ deleteVerificationTokenbyId),\n/* harmony export */   findVerificationTokenbyEmail: () => (/* binding */ findVerificationTokenbyEmail),\n/* harmony export */   findVerificationTokenbyToken: () => (/* binding */ findVerificationTokenbyToken)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n\n\nconst findVerificationTokenbyEmail = async (email)=>{\n    const token = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.verificationToken.findUnique({\n        where: {\n            email\n        }\n    });\n    return token;\n};\nconst findVerificationTokenbyToken = async (token)=>{\n    const existingToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.verificationToken.findUnique({\n        where: {\n            token\n        }\n    });\n    return existingToken;\n};\nconst deleteVerificationTokenbyId = async (id)=>{\n    const token = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.verificationToken.delete({\n        where: {\n            id\n        }\n    });\n    return token;\n};\nconst createVerificationToken = async (email)=>{\n    const token = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const expires = new Date(new Date().getTime() + 2 * 60 * 60 * 1000); //two hours\n    const existingToken = await findVerificationTokenbyEmail(email);\n    if (existingToken) {\n        await deleteVerificationTokenbyId(existingToken.id);\n    }\n    const verificationToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.verificationToken.create({\n        data: {\n            email,\n            token,\n            expires\n        }\n    });\n    return verificationToken;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2aWNlcy9hdXRoL2VtYWlsLXZlcmlmaWNhdGlvbi9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0M7QUFDQTtBQUUzQixNQUFNRywrQkFBK0IsT0FBT0M7SUFDbEQsTUFBTUMsUUFBUSxNQUFNTCwyQ0FBTUEsQ0FBQ00saUJBQWlCLENBQUNDLFVBQVUsQ0FBQztRQUN2REMsT0FBTztZQUNOSjtRQUNEO0lBQ0Q7SUFDQSxPQUFPQztBQUNSLEVBQUU7QUFFSyxNQUFNSSwrQkFBK0IsT0FBT0o7SUFDbEQsTUFBTUssZ0JBQWdCLE1BQU1WLDJDQUFNQSxDQUFDTSxpQkFBaUIsQ0FBQ0MsVUFBVSxDQUFDO1FBQy9EQyxPQUFPO1lBQ05IO1FBQ0Q7SUFDRDtJQUNBLE9BQU9LO0FBQ1IsRUFBRTtBQUVLLE1BQU1DLDhCQUE4QixPQUFPQztJQUNqRCxNQUFNUCxRQUFRLE1BQU1MLDJDQUFNQSxDQUFDTSxpQkFBaUIsQ0FBQ08sTUFBTSxDQUFDO1FBQ25ETCxPQUFPO1lBQ05JO1FBQ0Q7SUFDRDtJQUNBLE9BQU9QO0FBQ1IsRUFBRTtBQUVLLE1BQU1TLDBCQUEwQixPQUFPVjtJQUM3QyxNQUFNQyxRQUFRSCxnREFBSUE7SUFDbEIsTUFBTWEsVUFBVSxJQUFJQyxLQUFLLElBQUlBLE9BQU9DLE9BQU8sS0FBSyxJQUFJLEtBQUssS0FBSyxPQUFPLFdBQVc7SUFFaEYsTUFBTVAsZ0JBQWdCLE1BQU1QLDZCQUE2QkM7SUFDekQsSUFBSU0sZUFBZTtRQUNsQixNQUFNQyw0QkFBNEJELGNBQWNFLEVBQUU7SUFDbkQ7SUFFQSxNQUFNTixvQkFBb0IsTUFBTU4sMkNBQU1BLENBQUNNLGlCQUFpQixDQUFDWSxNQUFNLENBQUM7UUFDL0RDLE1BQU07WUFDTGY7WUFDQUM7WUFDQVU7UUFDRDtJQUNEO0lBRUEsT0FBT1Q7QUFDUixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGpzLXByaXNtYS10ZW1wbGF0ZS8uL3NlcnZpY2VzL2F1dGgvZW1haWwtdmVyaWZpY2F0aW9uL2luZGV4LnRzPzU4NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL2RiXCI7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmRWZXJpZmljYXRpb25Ub2tlbmJ5RW1haWwgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHRva2VuID0gYXdhaXQgcHJpc21hLnZlcmlmaWNhdGlvblRva2VuLmZpbmRVbmlxdWUoe1xyXG5cdFx0d2hlcmU6IHtcclxuXHRcdFx0ZW1haWwsXHJcblx0XHR9LFxyXG5cdH0pO1xyXG5cdHJldHVybiB0b2tlbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kVmVyaWZpY2F0aW9uVG9rZW5ieVRva2VuID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcclxuXHRjb25zdCBleGlzdGluZ1Rva2VuID0gYXdhaXQgcHJpc21hLnZlcmlmaWNhdGlvblRva2VuLmZpbmRVbmlxdWUoe1xyXG5cdFx0d2hlcmU6IHtcclxuXHRcdFx0dG9rZW4sXHJcblx0XHR9LFxyXG5cdH0pO1xyXG5cdHJldHVybiBleGlzdGluZ1Rva2VuO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVZlcmlmaWNhdGlvblRva2VuYnlJZCA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcblx0Y29uc3QgdG9rZW4gPSBhd2FpdCBwcmlzbWEudmVyaWZpY2F0aW9uVG9rZW4uZGVsZXRlKHtcclxuXHRcdHdoZXJlOiB7XHJcblx0XHRcdGlkLFxyXG5cdFx0fSxcclxuXHR9KTtcclxuXHRyZXR1cm4gdG9rZW47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4gPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHRva2VuID0gdXVpZCgpO1xyXG5cdGNvbnN0IGV4cGlyZXMgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDIgKiA2MCAqIDYwICogMTAwMCk7IC8vdHdvIGhvdXJzXHJcblxyXG5cdGNvbnN0IGV4aXN0aW5nVG9rZW4gPSBhd2FpdCBmaW5kVmVyaWZpY2F0aW9uVG9rZW5ieUVtYWlsKGVtYWlsKTtcclxuXHRpZiAoZXhpc3RpbmdUb2tlbikge1xyXG5cdFx0YXdhaXQgZGVsZXRlVmVyaWZpY2F0aW9uVG9rZW5ieUlkKGV4aXN0aW5nVG9rZW4uaWQpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBhd2FpdCBwcmlzbWEudmVyaWZpY2F0aW9uVG9rZW4uY3JlYXRlKHtcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0ZW1haWwsXHJcblx0XHRcdHRva2VuLFxyXG5cdFx0XHRleHBpcmVzLFxyXG5cdFx0fSxcclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIHZlcmlmaWNhdGlvblRva2VuO1xyXG59O1xyXG4iXSwibmFtZXMiOlsicHJpc21hIiwidjQiLCJ1dWlkIiwiZmluZFZlcmlmaWNhdGlvblRva2VuYnlFbWFpbCIsImVtYWlsIiwidG9rZW4iLCJ2ZXJpZmljYXRpb25Ub2tlbiIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImZpbmRWZXJpZmljYXRpb25Ub2tlbmJ5VG9rZW4iLCJleGlzdGluZ1Rva2VuIiwiZGVsZXRlVmVyaWZpY2F0aW9uVG9rZW5ieUlkIiwiaWQiLCJkZWxldGUiLCJjcmVhdGVWZXJpZmljYXRpb25Ub2tlbiIsImV4cGlyZXMiLCJEYXRlIiwiZ2V0VGltZSIsImNyZWF0ZSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./services/auth/email-verification/index.ts\n");

/***/ }),

/***/ "(rsc)/./services/auth/index.ts":
/*!********************************!*\
  !*** ./services/auth/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createResetPasswordToken: () => (/* reexport safe */ _password_reset__WEBPACK_IMPORTED_MODULE_1__.createResetPasswordToken),\n/* harmony export */   createTwoFactorAuthToken: () => (/* reexport safe */ _two_factor__WEBPACK_IMPORTED_MODULE_2__.createTwoFactorAuthToken),\n/* harmony export */   createVerificationToken: () => (/* reexport safe */ _email_verification__WEBPACK_IMPORTED_MODULE_0__.createVerificationToken),\n/* harmony export */   deleteResetPasswordToken: () => (/* reexport safe */ _password_reset__WEBPACK_IMPORTED_MODULE_1__.deleteResetPasswordToken),\n/* harmony export */   deleteTwoFactorAuthTokenById: () => (/* reexport safe */ _two_factor__WEBPACK_IMPORTED_MODULE_2__.deleteTwoFactorAuthTokenById),\n/* harmony export */   deleteVerificationTokenbyId: () => (/* reexport safe */ _email_verification__WEBPACK_IMPORTED_MODULE_0__.deleteVerificationTokenbyId),\n/* harmony export */   findResetPasswordTokenByEmail: () => (/* reexport safe */ _password_reset__WEBPACK_IMPORTED_MODULE_1__.findResetPasswordTokenByEmail),\n/* harmony export */   findResetPasswordTokenByToken: () => (/* reexport safe */ _password_reset__WEBPACK_IMPORTED_MODULE_1__.findResetPasswordTokenByToken),\n/* harmony export */   findTwoFactorAuthTokeByToken: () => (/* reexport safe */ _two_factor__WEBPACK_IMPORTED_MODULE_2__.findTwoFactorAuthTokeByToken),\n/* harmony export */   findTwoFactorAuthTokenByEmail: () => (/* reexport safe */ _two_factor__WEBPACK_IMPORTED_MODULE_2__.findTwoFactorAuthTokenByEmail),\n/* harmony export */   findVerificationTokenbyEmail: () => (/* reexport safe */ _email_verification__WEBPACK_IMPORTED_MODULE_0__.findVerificationTokenbyEmail),\n/* harmony export */   findVerificationTokenbyToken: () => (/* reexport safe */ _email_verification__WEBPACK_IMPORTED_MODULE_0__.findVerificationTokenbyToken),\n/* harmony export */   isTwoFactorAutenticationEnabled: () => (/* reexport safe */ _two_factor__WEBPACK_IMPORTED_MODULE_2__.isTwoFactorAutenticationEnabled),\n/* harmony export */   updatePassword: () => (/* reexport safe */ _password_reset__WEBPACK_IMPORTED_MODULE_1__.updatePassword)\n/* harmony export */ });\n/* harmony import */ var _email_verification__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./email-verification */ \"(rsc)/./services/auth/email-verification/index.ts\");\n/* harmony import */ var _password_reset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./password-reset */ \"(rsc)/./services/auth/password-reset/index.ts\");\n/* harmony import */ var _two_factor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./two-factor */ \"(rsc)/./services/auth/two-factor/index.ts\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2aWNlcy9hdXRoL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dGhqcy1wcmlzbWEtdGVtcGxhdGUvLi9zZXJ2aWNlcy9hdXRoL2luZGV4LnRzPzAxNzMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vZW1haWwtdmVyaWZpY2F0aW9uXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3Bhc3N3b3JkLXJlc2V0XCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3R3by1mYWN0b3JcIjtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./services/auth/index.ts\n");

/***/ }),

/***/ "(rsc)/./services/auth/password-reset/index.ts":
/*!***********************************************!*\
  !*** ./services/auth/password-reset/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createResetPasswordToken: () => (/* binding */ createResetPasswordToken),\n/* harmony export */   deleteResetPasswordToken: () => (/* binding */ deleteResetPasswordToken),\n/* harmony export */   findResetPasswordTokenByEmail: () => (/* binding */ findResetPasswordTokenByEmail),\n/* harmony export */   findResetPasswordTokenByToken: () => (/* binding */ findResetPasswordTokenByToken),\n/* harmony export */   updatePassword: () => (/* binding */ updatePassword)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n\n\nconst findResetPasswordTokenByToken = async (token)=>{\n    const resetPasswordToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.resetPasswordToken.findUnique({\n        where: {\n            token\n        }\n    });\n    return resetPasswordToken;\n};\nconst findResetPasswordTokenByEmail = async (email)=>{\n    const passwordResetToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.resetPasswordToken.findFirst({\n        where: {\n            email\n        }\n    });\n    return passwordResetToken;\n};\nconst deleteResetPasswordToken = async (id)=>{\n    await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.resetPasswordToken.delete({\n        where: {\n            id\n        }\n    });\n};\nconst updatePassword = async (id, password)=>{\n    await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.update({\n        where: {\n            id\n        },\n        data: {\n            password\n        }\n    });\n};\nconst createResetPasswordToken = async (email)=>{\n    const token = (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const expires = new Date(new Date().getTime() + 2 * 60 * 60 * 1000); //two hours\n    const existingToken = await findResetPasswordTokenByEmail(email);\n    if (existingToken) {\n        await deleteResetPasswordToken(existingToken.id);\n    }\n    const verificationToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.resetPasswordToken.create({\n        data: {\n            email,\n            token,\n            expires\n        }\n    });\n    return verificationToken;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2aWNlcy9hdXRoL3Bhc3N3b3JkLXJlc2V0L2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0M7QUFDQTtBQUUzQixNQUFNRyxnQ0FBZ0MsT0FBT0M7SUFDbkQsTUFBTUMscUJBQXFCLE1BQU1MLDJDQUFNQSxDQUFDSyxrQkFBa0IsQ0FBQ0MsVUFBVSxDQUFDO1FBQ3JFQyxPQUFPO1lBQUVIO1FBQU07SUFDaEI7SUFFQSxPQUFPQztBQUNSLEVBQUU7QUFFSyxNQUFNRyxnQ0FBZ0MsT0FBT0M7SUFDbkQsTUFBTUMscUJBQXFCLE1BQU1WLDJDQUFNQSxDQUFDSyxrQkFBa0IsQ0FBQ00sU0FBUyxDQUFDO1FBQ3BFSixPQUFPO1lBQUVFO1FBQU07SUFDaEI7SUFFQSxPQUFPQztBQUNSLEVBQUU7QUFFSyxNQUFNRSwyQkFBMkIsT0FBT0M7SUFDOUMsTUFBTWIsMkNBQU1BLENBQUNLLGtCQUFrQixDQUFDUyxNQUFNLENBQUM7UUFDdENQLE9BQU87WUFBRU07UUFBRztJQUNiO0FBQ0QsRUFBRTtBQUVLLE1BQU1FLGlCQUFpQixPQUFPRixJQUFZRztJQUNoRCxNQUFNaEIsMkNBQU1BLENBQUNpQixJQUFJLENBQUNDLE1BQU0sQ0FBQztRQUN4QlgsT0FBTztZQUFFTTtRQUFHO1FBQ1pNLE1BQU07WUFBRUg7UUFBUztJQUNsQjtBQUNELEVBQUU7QUFFSyxNQUFNSSwyQkFBMkIsT0FBT1g7SUFDOUMsTUFBTUwsUUFBUUYsZ0RBQUlBO0lBQ2xCLE1BQU1tQixVQUFVLElBQUlDLEtBQUssSUFBSUEsT0FBT0MsT0FBTyxLQUFLLElBQUksS0FBSyxLQUFLLE9BQU8sV0FBVztJQUVoRixNQUFNQyxnQkFBZ0IsTUFBTWhCLDhCQUE4QkM7SUFDMUQsSUFBSWUsZUFBZTtRQUNsQixNQUFNWix5QkFBeUJZLGNBQWNYLEVBQUU7SUFDaEQ7SUFFQSxNQUFNWSxvQkFBb0IsTUFBTXpCLDJDQUFNQSxDQUFDSyxrQkFBa0IsQ0FBQ3FCLE1BQU0sQ0FBQztRQUNoRVAsTUFBTTtZQUNMVjtZQUNBTDtZQUNBaUI7UUFDRDtJQUNEO0lBRUEsT0FBT0k7QUFDUixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0aGpzLXByaXNtYS10ZW1wbGF0ZS8uL3NlcnZpY2VzL2F1dGgvcGFzc3dvcmQtcmVzZXQvaW5kZXgudHM/OGY1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZmluZFJlc2V0UGFzc3dvcmRUb2tlbkJ5VG9rZW4gPSBhc3luYyAodG9rZW46IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHJlc2V0UGFzc3dvcmRUb2tlbiA9IGF3YWl0IHByaXNtYS5yZXNldFBhc3N3b3JkVG9rZW4uZmluZFVuaXF1ZSh7XHJcblx0XHR3aGVyZTogeyB0b2tlbiB9LFxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gcmVzZXRQYXNzd29yZFRva2VuO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZpbmRSZXNldFBhc3N3b3JkVG9rZW5CeUVtYWlsID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpID0+IHtcclxuXHRjb25zdCBwYXNzd29yZFJlc2V0VG9rZW4gPSBhd2FpdCBwcmlzbWEucmVzZXRQYXNzd29yZFRva2VuLmZpbmRGaXJzdCh7XHJcblx0XHR3aGVyZTogeyBlbWFpbCB9LFxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gcGFzc3dvcmRSZXNldFRva2VuO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVJlc2V0UGFzc3dvcmRUb2tlbiA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcblx0YXdhaXQgcHJpc21hLnJlc2V0UGFzc3dvcmRUb2tlbi5kZWxldGUoe1xyXG5cdFx0d2hlcmU6IHsgaWQgfSxcclxuXHR9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQYXNzd29yZCA9IGFzeW5jIChpZDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XHJcblx0YXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcclxuXHRcdHdoZXJlOiB7IGlkIH0sXHJcblx0XHRkYXRhOiB7IHBhc3N3b3JkIH0sXHJcblx0fSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzZXRQYXNzd29yZFRva2VuID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpID0+IHtcclxuXHRjb25zdCB0b2tlbiA9IHV1aWQoKTtcclxuXHRjb25zdCBleHBpcmVzID0gbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAyICogNjAgKiA2MCAqIDEwMDApOyAvL3R3byBob3Vyc1xyXG5cclxuXHRjb25zdCBleGlzdGluZ1Rva2VuID0gYXdhaXQgZmluZFJlc2V0UGFzc3dvcmRUb2tlbkJ5RW1haWwoZW1haWwpO1xyXG5cdGlmIChleGlzdGluZ1Rva2VuKSB7XHJcblx0XHRhd2FpdCBkZWxldGVSZXNldFBhc3N3b3JkVG9rZW4oZXhpc3RpbmdUb2tlbi5pZCk7XHJcblx0fVxyXG5cclxuXHRjb25zdCB2ZXJpZmljYXRpb25Ub2tlbiA9IGF3YWl0IHByaXNtYS5yZXNldFBhc3N3b3JkVG9rZW4uY3JlYXRlKHtcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0ZW1haWwsXHJcblx0XHRcdHRva2VuLFxyXG5cdFx0XHRleHBpcmVzLFxyXG5cdFx0fSxcclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIHZlcmlmaWNhdGlvblRva2VuO1xyXG59O1xyXG4iXSwibmFtZXMiOlsicHJpc21hIiwidjQiLCJ1dWlkIiwiZmluZFJlc2V0UGFzc3dvcmRUb2tlbkJ5VG9rZW4iLCJ0b2tlbiIsInJlc2V0UGFzc3dvcmRUb2tlbiIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImZpbmRSZXNldFBhc3N3b3JkVG9rZW5CeUVtYWlsIiwiZW1haWwiLCJwYXNzd29yZFJlc2V0VG9rZW4iLCJmaW5kRmlyc3QiLCJkZWxldGVSZXNldFBhc3N3b3JkVG9rZW4iLCJpZCIsImRlbGV0ZSIsInVwZGF0ZVBhc3N3b3JkIiwicGFzc3dvcmQiLCJ1c2VyIiwidXBkYXRlIiwiZGF0YSIsImNyZWF0ZVJlc2V0UGFzc3dvcmRUb2tlbiIsImV4cGlyZXMiLCJEYXRlIiwiZ2V0VGltZSIsImV4aXN0aW5nVG9rZW4iLCJ2ZXJpZmljYXRpb25Ub2tlbiIsImNyZWF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./services/auth/password-reset/index.ts\n");

/***/ }),

/***/ "(rsc)/./services/auth/two-factor/index.ts":
/*!*******************************************!*\
  !*** ./services/auth/two-factor/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTwoFactorAuthToken: () => (/* binding */ createTwoFactorAuthToken),\n/* harmony export */   deleteTwoFactorAuthTokenById: () => (/* binding */ deleteTwoFactorAuthTokenById),\n/* harmony export */   findTwoFactorAuthTokeByToken: () => (/* binding */ findTwoFactorAuthTokeByToken),\n/* harmony export */   findTwoFactorAuthTokenByEmail: () => (/* binding */ findTwoFactorAuthTokenByEmail),\n/* harmony export */   isTwoFactorAutenticationEnabled: () => (/* binding */ isTwoFactorAutenticationEnabled)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./lib/utils.ts\");\n\n\nconst findTwoFactorAuthTokenByEmail = async (email)=>{\n    const token = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.twoFactorToken.findUnique({\n        where: {\n            email\n        }\n    });\n    return token;\n};\nconst isTwoFactorAutenticationEnabled = async (id)=>{\n    const user = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            id\n        },\n        select: {\n            isTwoFactorAuthEnabled: true\n        }\n    });\n    return user?.isTwoFactorAuthEnabled;\n};\nconst deleteTwoFactorAuthTokenById = async (id)=>{\n    const token = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.twoFactorToken.delete({\n        where: {\n            id\n        }\n    });\n    return token;\n};\nconst findTwoFactorAuthTokeByToken = async (token)=>{\n    const existingToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.twoFactorToken.findUnique({\n        where: {\n            token\n        }\n    });\n    return existingToken;\n};\nconst createTwoFactorAuthToken = async (email)=>{\n    const token = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.generateOTP)(6);\n    const expires = new Date(new Date().getTime() + 2 * 60 * 60 * 1000); //two hours\n    const existingToken = await findTwoFactorAuthTokenByEmail(email);\n    if (existingToken) {\n        await deleteTwoFactorAuthTokenById(existingToken.id);\n    }\n    const twoFactorAuthToken = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.twoFactorToken.create({\n        data: {\n            email,\n            token,\n            expires\n        }\n    });\n    return twoFactorAuthToken;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2aWNlcy9hdXRoL3R3by1mYWN0b3IvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrQztBQUNRO0FBRW5DLE1BQU1FLGdDQUFnQyxPQUFPQztJQUNuRCxNQUFNQyxRQUFRLE1BQU1KLDJDQUFNQSxDQUFDSyxjQUFjLENBQUNDLFVBQVUsQ0FBQztRQUNwREMsT0FBTztZQUNOSjtRQUNEO0lBQ0Q7SUFDQSxPQUFPQztBQUNSLEVBQUU7QUFDSyxNQUFNSSxrQ0FBa0MsT0FBT0M7SUFDckQsTUFBTUMsT0FBTyxNQUFNViwyQ0FBTUEsQ0FBQ1UsSUFBSSxDQUFDSixVQUFVLENBQUM7UUFDekNDLE9BQU87WUFDTkU7UUFDRDtRQUNBRSxRQUFRO1lBQ1BDLHdCQUF3QjtRQUN6QjtJQUNEO0lBQ0EsT0FBT0YsTUFBTUU7QUFDZCxFQUFFO0FBRUssTUFBTUMsK0JBQStCLE9BQU9KO0lBQ2xELE1BQU1MLFFBQVEsTUFBTUosMkNBQU1BLENBQUNLLGNBQWMsQ0FBQ1MsTUFBTSxDQUFDO1FBQ2hEUCxPQUFPO1lBQ05FO1FBQ0Q7SUFDRDtJQUNBLE9BQU9MO0FBQ1IsRUFBRTtBQUVLLE1BQU1XLCtCQUErQixPQUFPWDtJQUNsRCxNQUFNWSxnQkFBZ0IsTUFBTWhCLDJDQUFNQSxDQUFDSyxjQUFjLENBQUNDLFVBQVUsQ0FBQztRQUM1REMsT0FBTztZQUNOSDtRQUNEO0lBQ0Q7SUFDQSxPQUFPWTtBQUNSLEVBQUU7QUFFSyxNQUFNQywyQkFBMkIsT0FBT2Q7SUFDOUMsTUFBTUMsUUFBUUgsdURBQVdBLENBQUM7SUFDMUIsTUFBTWlCLFVBQVUsSUFBSUMsS0FBSyxJQUFJQSxPQUFPQyxPQUFPLEtBQUssSUFBSSxLQUFLLEtBQUssT0FBTyxXQUFXO0lBRWhGLE1BQU1KLGdCQUFnQixNQUFNZCw4QkFBOEJDO0lBQzFELElBQUlhLGVBQWU7UUFDbEIsTUFBTUgsNkJBQTZCRyxjQUFjUCxFQUFFO0lBQ3BEO0lBRUEsTUFBTVkscUJBQXFCLE1BQU1yQiwyQ0FBTUEsQ0FBQ0ssY0FBYyxDQUFDaUIsTUFBTSxDQUFDO1FBQzdEQyxNQUFNO1lBQ0xwQjtZQUNBQztZQUNBYztRQUNEO0lBQ0Q7SUFFQSxPQUFPRztBQUNSLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoanMtcHJpc21hLXRlbXBsYXRlLy4vc2VydmljZXMvYXV0aC90d28tZmFjdG9yL2luZGV4LnRzP2Y5YjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL2RiXCI7XHJcbmltcG9ydCB7IGdlbmVyYXRlT1RQIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZmluZFR3b0ZhY3RvckF1dGhUb2tlbkJ5RW1haWwgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHRva2VuID0gYXdhaXQgcHJpc21hLnR3b0ZhY3RvclRva2VuLmZpbmRVbmlxdWUoe1xyXG5cdFx0d2hlcmU6IHtcclxuXHRcdFx0ZW1haWwsXHJcblx0XHR9LFxyXG5cdH0pO1xyXG5cdHJldHVybiB0b2tlbjtcclxufTtcclxuZXhwb3J0IGNvbnN0IGlzVHdvRmFjdG9yQXV0ZW50aWNhdGlvbkVuYWJsZWQgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcclxuXHRcdHdoZXJlOiB7XHJcblx0XHRcdGlkLFxyXG5cdFx0fSxcclxuXHRcdHNlbGVjdDoge1xyXG5cdFx0XHRpc1R3b0ZhY3RvckF1dGhFbmFibGVkOiB0cnVlLFxyXG5cdFx0fSxcclxuXHR9KTtcclxuXHRyZXR1cm4gdXNlcj8uaXNUd29GYWN0b3JBdXRoRW5hYmxlZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVUd29GYWN0b3JBdXRoVG9rZW5CeUlkID0gYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuXHRjb25zdCB0b2tlbiA9IGF3YWl0IHByaXNtYS50d29GYWN0b3JUb2tlbi5kZWxldGUoe1xyXG5cdFx0d2hlcmU6IHtcclxuXHRcdFx0aWQsXHJcblx0XHR9LFxyXG5cdH0pO1xyXG5cdHJldHVybiB0b2tlbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kVHdvRmFjdG9yQXV0aFRva2VCeVRva2VuID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcclxuXHRjb25zdCBleGlzdGluZ1Rva2VuID0gYXdhaXQgcHJpc21hLnR3b0ZhY3RvclRva2VuLmZpbmRVbmlxdWUoe1xyXG5cdFx0d2hlcmU6IHtcclxuXHRcdFx0dG9rZW4sXHJcblx0XHR9LFxyXG5cdH0pO1xyXG5cdHJldHVybiBleGlzdGluZ1Rva2VuO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVR3b0ZhY3RvckF1dGhUb2tlbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nKSA9PiB7XHJcblx0Y29uc3QgdG9rZW4gPSBnZW5lcmF0ZU9UUCg2KTtcclxuXHRjb25zdCBleHBpcmVzID0gbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAyICogNjAgKiA2MCAqIDEwMDApOyAvL3R3byBob3Vyc1xyXG5cclxuXHRjb25zdCBleGlzdGluZ1Rva2VuID0gYXdhaXQgZmluZFR3b0ZhY3RvckF1dGhUb2tlbkJ5RW1haWwoZW1haWwpO1xyXG5cdGlmIChleGlzdGluZ1Rva2VuKSB7XHJcblx0XHRhd2FpdCBkZWxldGVUd29GYWN0b3JBdXRoVG9rZW5CeUlkKGV4aXN0aW5nVG9rZW4uaWQpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgdHdvRmFjdG9yQXV0aFRva2VuID0gYXdhaXQgcHJpc21hLnR3b0ZhY3RvclRva2VuLmNyZWF0ZSh7XHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdGVtYWlsLFxyXG5cdFx0XHR0b2tlbixcclxuXHRcdFx0ZXhwaXJlcyxcclxuXHRcdH0sXHJcblx0fSk7XHJcblxyXG5cdHJldHVybiB0d29GYWN0b3JBdXRoVG9rZW47XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJnZW5lcmF0ZU9UUCIsImZpbmRUd29GYWN0b3JBdXRoVG9rZW5CeUVtYWlsIiwiZW1haWwiLCJ0b2tlbiIsInR3b0ZhY3RvclRva2VuIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXNUd29GYWN0b3JBdXRlbnRpY2F0aW9uRW5hYmxlZCIsImlkIiwidXNlciIsInNlbGVjdCIsImlzVHdvRmFjdG9yQXV0aEVuYWJsZWQiLCJkZWxldGVUd29GYWN0b3JBdXRoVG9rZW5CeUlkIiwiZGVsZXRlIiwiZmluZFR3b0ZhY3RvckF1dGhUb2tlQnlUb2tlbiIsImV4aXN0aW5nVG9rZW4iLCJjcmVhdGVUd29GYWN0b3JBdXRoVG9rZW4iLCJleHBpcmVzIiwiRGF0ZSIsImdldFRpbWUiLCJ0d29GYWN0b3JBdXRoVG9rZW4iLCJjcmVhdGUiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./services/auth/two-factor/index.ts\n");

/***/ }),

/***/ "(rsc)/./services/index.ts":
/*!***************************!*\
  !*** ./services/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findUserbyEmail: () => (/* binding */ findUserbyEmail),\n/* harmony export */   findUserbyId: () => (/* binding */ findUserbyId)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\nconst findUserbyEmail = async (email)=>{\n    const user = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            email\n        }\n    });\n    return user;\n};\nconst findUserbyId = async (id)=>{\n    const user = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            id\n        },\n        select: {\n            id: true,\n            name: true,\n            email: true,\n            password: true,\n            isTwoFactorAuthEnabled: true\n        }\n    });\n    return user;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2aWNlcy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0M7QUFFM0IsTUFBTUMsa0JBQWtCLE9BQU9DO0lBQ3JDLE1BQU1DLE9BQU8sTUFBTUgsMkNBQU1BLENBQUNHLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1FBQ3pDQyxPQUFPO1lBQ05IO1FBQ0Q7SUFDRDtJQUNBLE9BQU9DO0FBQ1IsRUFBRTtBQUVLLE1BQU1HLGVBQWUsT0FBT0M7SUFDbEMsTUFBTUosT0FBTyxNQUFNSCwyQ0FBTUEsQ0FBQ0csSUFBSSxDQUFDQyxVQUFVLENBQUM7UUFDekNDLE9BQU87WUFDTkU7UUFDRDtRQUNBQyxRQUFRO1lBQ1BELElBQUk7WUFDSkUsTUFBTTtZQUNOUCxPQUFPO1lBQ1BRLFVBQVU7WUFDVkMsd0JBQXdCO1FBQ3pCO0lBQ0Q7SUFDQSxPQUFPUjtBQUNSLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRoanMtcHJpc21hLXRlbXBsYXRlLy4vc2VydmljZXMvaW5kZXgudHM/OWVjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kVXNlcmJ5RW1haWwgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcclxuXHRcdHdoZXJlOiB7XHJcblx0XHRcdGVtYWlsLFxyXG5cdFx0fSxcclxuXHR9KTtcclxuXHRyZXR1cm4gdXNlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kVXNlcmJ5SWQgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xyXG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcclxuXHRcdHdoZXJlOiB7XHJcblx0XHRcdGlkLFxyXG5cdFx0fSxcclxuXHRcdHNlbGVjdDoge1xyXG5cdFx0XHRpZDogdHJ1ZSxcclxuXHRcdFx0bmFtZTogdHJ1ZSxcclxuXHRcdFx0ZW1haWw6IHRydWUsXHJcblx0XHRcdHBhc3N3b3JkOiB0cnVlLFxyXG5cdFx0XHRpc1R3b0ZhY3RvckF1dGhFbmFibGVkOiB0cnVlLFxyXG5cdFx0fSxcclxuXHR9KTtcclxuXHRyZXR1cm4gdXNlcjtcclxufTtcclxuIl0sIm5hbWVzIjpbInByaXNtYSIsImZpbmRVc2VyYnlFbWFpbCIsImVtYWlsIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImZpbmRVc2VyYnlJZCIsImlkIiwic2VsZWN0IiwibmFtZSIsInBhc3N3b3JkIiwiaXNUd29GYWN0b3JBdXRoRW5hYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./services/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/zod","vendor-chunks/tailwind-merge","vendor-chunks/oauth4webapi","vendor-chunks/jose","vendor-chunks/bcryptjs","vendor-chunks/@auth","vendor-chunks/@panva","vendor-chunks/uuid","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fauth%2Finstagram%2Fcallback%2Froute&page=%2Fauth%2Finstagram%2Fcallback%2Froute&appPaths=&pagePath=private-next-app-dir%2Fauth%2Finstagram%2Fcallback%2Froute.ts&appDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp%5Capp&pageExtensions=js&pageExtensions=jsx&pageExtensions=ts&pageExtensions=tsx&pageExtensions=md&pageExtensions=mdx&rootDir=C%3A%5CUsers%5Cwital%5COneDrive%5C01_Importantes_Negocios%5CWITALO_DEV%5CNextWit%5CfaceApp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();